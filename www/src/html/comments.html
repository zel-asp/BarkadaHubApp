<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>BarkadaHub - Comments</title>
        <link rel="stylesheet" href="../../dist/output.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <style>
            .comment-item {
                transition: all 0.2s ease;
            }

            .comment-item:hover {
                background-color: #f8fafc;
            }

            .like-btn.active {
                color: #3b82f6;
            }

            .like-btn.active i {
                color: #3b82f6;
            }

            .reply-section {
                transition: all 0.3s ease;
                max-height: 0;
                overflow: hidden;
            }

            .reply-section.active {
                max-height: 500px;
            }

            .comment-actions button {
                transition: all 0.2s ease;
            }

            .comment-actions button:hover {
                transform: translateY(-1px);
            }

            .comment-input-container {
                position: sticky;
                top: 0;
                background: white;
                z-index: 10;
                border-bottom: 1px solid #e5e7eb;
            }
        </style>
    </head>

    <body class="bg-gray-100 min-h-screen">
        <!-- for alerts -->
        <div id="alertContainer" class="fixed top-5 right-5 z-40 max-w-md"></div>
        <div id="app">
            <div id="header"></div>

            <div class="container mx-auto px-4 mb-10 mt-6">
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <!-- Left Sidebar -->
                    <div id="leftSideBar"></div>

                    <!-- Main Content Area -->
                    <div class="lg:col-span-2">
                        <!-- Comment Section Header -->
                        <div class="bg-white rounded-lg shadow-sm mb-6">
                            <div class="p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h1 class="text-2xl font-bold text-gray-900">Comments</h1>
                                    <div class="flex items-center gap-4 text-sm text-gray-600">
                                        <span class="flex items-center gap-1">
                                            <i class="fas fa-comment"></i>
                                            24 total comments
                                        </span>
                                        <button class="flex items-center gap-1 text-blue-600 hover:text-blue-700">
                                            <i class="fas fa-sort"></i>
                                            Sort by
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Comment Input Section -->
                        <div class="bg-white rounded-lg shadow-sm mb-6 comment-input-container">
                            <div class="p-6">
                                <div class="flex gap-4">
                                    <img src="https://i.pravatar.cc/150?img=5" alt="Your Avatar"
                                        class="w-12 h-12 rounded-full flex-shrink-0">
                                    <div class="flex-1">
                                        <textarea placeholder="What's on your mind? Start a conversation..."
                                            class="w-full px-4 py-3 border border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent text-sm"
                                            rows="3"></textarea>
                                        <div class="flex items-center justify-between mt-3">
                                            <div class="flex items-center gap-4 text-gray-500">
                                                <button
                                                    class="hover:text-blue-600 transition p-2 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-smile text-xl"></i>
                                                </button>
                                                <button
                                                    class="hover:text-blue-600 transition p-2 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-image text-xl"></i>
                                                </button>
                                                <button
                                                    class="hover:text-blue-600 transition p-2 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-paperclip text-xl"></i>
                                                </button>
                                                <button
                                                    class="hover:text-blue-600 transition p-2 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-heart text-xl"></i>
                                                </button>
                                            </div>
                                            <button
                                                class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition flex items-center gap-2">
                                                <i class="fas fa-paper-plane"></i>
                                                Post Comment
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Comments List -->
                        <div class="space-y-4">
                            <!-- Comment 1 with Replies -->
                            <div class="bg-white rounded-lg shadow-sm comment-item">
                                <div class="p-6">
                                    <div class="flex gap-4">
                                        <img src="https://i.pravatar.cc/150?img=32" alt="Maria Santos"
                                            class="w-12 h-12 rounded-full flex-shrink-0">
                                        <div class="flex-1">
                                            <div class="mb-3">
                                                <div class="flex items-center gap-2 mb-2">
                                                    <span class="font-semibold text-gray-900">Maria Santos</span>
                                                    <span class="text-xs text-gray-500">‚Ä¢ 2 hours ago</span>
                                                </div>
                                                <p class="text-gray-800">Has anyone tried the new coding bootcamp at the
                                                    tech hub? I'm thinking of joining but would love to hear some
                                                    reviews first!</p>
                                            </div>
                                            <div class="comment-actions flex items-center gap-6 text-sm text-gray-600">
                                                <button
                                                    class="like-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-thumbs-up"></i>
                                                    <span>Like</span>
                                                </button>
                                                <button
                                                    class="reply-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-comment"></i>
                                                    <span>Reply</span>
                                                </button>
                                                <span class="flex items-center gap-2 text-blue-600">
                                                    <i class="fas fa-heart"></i>
                                                    <span>15 likes</span>
                                                </span>
                                            </div>

                                            <!-- Replies Section -->
                                            <div class="mt-4 ml-4 space-y-4 border-l-2 border-gray-200 pl-4">
                                                <!-- Reply 1 -->
                                                <div class="flex gap-3">
                                                    <img src="https://i.pravatar.cc/150?img=12" alt="John Dela Cruz"
                                                        class="w-10 h-10 rounded-full flex-shrink-0">
                                                    <div class="flex-1">
                                                        <div class="bg-gray-50 rounded-2xl p-4">
                                                            <div class="flex items-center gap-2 mb-2">
                                                                <span class="font-semibold text-sm">John Dela
                                                                    Cruz</span>
                                                                <span class="text-xs text-gray-500">1 hour ago</span>
                                                            </div>
                                                            <p class="text-gray-800 text-sm mb-2">I attended their web
                                                                development track last month! The instructors are
                                                                amazing and the projects are really practical.
                                                                Definitely worth it! üíØ</p>
                                                            <div
                                                                class="comment-actions flex items-center gap-4 text-xs text-gray-500">
                                                                <button
                                                                    class="like-btn flex items-center gap-1 hover:text-blue-600">
                                                                    <i class="far fa-thumbs-up"></i>
                                                                    <span>Like</span>
                                                                </button>
                                                                <span class="flex items-center gap-1 text-blue-600">
                                                                    <i class="fas fa-heart"></i>
                                                                    8 likes
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Reply 2 -->
                                                <div class="flex gap-3">
                                                    <img src="https://i.pravatar.cc/150?img=25" alt="Ana Reyes"
                                                        class="w-10 h-10 rounded-full flex-shrink-0">
                                                    <div class="flex-1">
                                                        <div class="bg-gray-50 rounded-2xl p-4">
                                                            <div class="flex items-center gap-2 mb-2">
                                                                <span class="font-semibold text-sm">Ana Reyes</span>
                                                                <span class="text-xs text-gray-500">45 minutes
                                                                    ago</span>
                                                            </div>
                                                            <p class="text-gray-800 text-sm mb-2">The data science
                                                                program is also great! They have industry projects that
                                                                look really good on your portfolio.</p>
                                                            <div
                                                                class="comment-actions flex items-center gap-4 text-xs text-gray-500">
                                                                <button
                                                                    class="like-btn flex items-center gap-1 hover:text-blue-600">
                                                                    <i class="far fa-thumbs-up"></i>
                                                                    <span>Like</span>
                                                                </button>
                                                                <span class="flex items-center gap-1 text-blue-600">
                                                                    <i class="fas fa-heart"></i>
                                                                    5 likes
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Reply Input -->
                                                <div class="flex gap-3">
                                                    <img src="https://i.pravatar.cc/150?img=5" alt="Your Avatar"
                                                        class="w-10 h-10 rounded-full flex-shrink-0">
                                                    <div class="flex-1">
                                                        <div class="flex gap-2">
                                                            <input type="text" placeholder="Write a reply..."
                                                                class="flex-1 px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
                                                            <button
                                                                class="bg-blue-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition">
                                                                Reply
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment 2 -->
                            <div class="bg-white rounded-lg shadow-sm comment-item">
                                <div class="p-6">
                                    <div class="flex gap-4">
                                        <img src="https://i.pravatar.cc/150?img=8" alt="Carlos Lim"
                                            class="w-12 h-12 rounded-full flex-shrink-0">
                                        <div class="flex-1">
                                            <div class="mb-3">
                                                <div class="flex items-center gap-2 mb-2">
                                                    <span class="font-semibold text-gray-900">Carlos Lim</span>
                                                    <span class="text-xs text-gray-500">‚Ä¢ 3 hours ago</span>
                                                </div>
                                                <p class="text-gray-800">Looking for study buddies for the upcoming
                                                    finals! Anyone from Engineering major want to form a study group? We
                                                    can reserve a room at the library. üìö‚ú®</p>
                                            </div>
                                            <div class="comment-actions flex items-center gap-6 text-sm text-gray-600">
                                                <button
                                                    class="like-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-thumbs-up"></i>
                                                    <span>Like</span>
                                                </button>
                                                <button
                                                    class="reply-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-comment"></i>
                                                    <span>Reply</span>
                                                </button>
                                                <span class="flex items-center gap-2 text-blue-600">
                                                    <i class="fas fa-heart"></i>
                                                    <span>22 likes</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment 3 -->
                            <div class="bg-white rounded-lg shadow-sm comment-item">
                                <div class="p-6">
                                    <div class="flex gap-4">
                                        <img src="https://i.pravatar.cc/150?img=15" alt="Sarah Chen"
                                            class="w-12 h-12 rounded-full flex-shrink-0">
                                        <div class="flex-1">
                                            <div class="mb-3">
                                                <div class="flex items-center gap-2 mb-2">
                                                    <span class="font-semibold text-gray-900">Sarah Chen</span>
                                                    <span class="text-xs text-gray-500">‚Ä¢ 4 hours ago</span>
                                                </div>
                                                <p class="text-gray-800">Just found this amazing coffee shop near campus
                                                    with great WiFi and unlimited refills! Perfect for study sessions.
                                                    DM me for location! ‚òïüíª</p>
                                            </div>
                                            <div class="comment-actions flex items-center gap-6 text-sm text-gray-600">
                                                <button
                                                    class="like-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-thumbs-up"></i>
                                                    <span>Like</span>
                                                </button>
                                                <button
                                                    class="reply-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-comment"></i>
                                                    <span>Reply</span>
                                                </button>
                                                <span class="flex items-center gap-2 text-blue-600">
                                                    <i class="fas fa-heart"></i>
                                                    <span>31 likes</span>
                                                </span>
                                            </div>

                                            <!-- Replies Section -->
                                            <div class="mt-4 ml-4 space-y-4 border-l-2 border-gray-200 pl-4">
                                                <!-- Reply 1 -->
                                                <div class="flex gap-3">
                                                    <img src="https://i.pravatar.cc/150?img=18" alt="Mike Torres"
                                                        class="w-10 h-10 rounded-full flex-shrink-0">
                                                    <div class="flex-1">
                                                        <div class="bg-gray-50 rounded-2xl p-4">
                                                            <div class="flex items-center gap-2 mb-2">
                                                                <span class="font-semibold text-sm">Mike Torres</span>
                                                                <span class="text-xs text-gray-500">3 hours ago</span>
                                                            </div>
                                                            <p class="text-gray-800 text-sm mb-2">Is it the one with the
                                                                blue facade? I think I know which one you're talking
                                                                about! Their pastries are amazing too ü•ê</p>
                                                            <div
                                                                class="comment-actions flex items-center gap-4 text-xs text-gray-500">
                                                                <button
                                                                    class="like-btn flex items-center gap-1 hover:text-blue-600">
                                                                    <i class="far fa-thumbs-up"></i>
                                                                    <span>Like</span>
                                                                </button>
                                                                <span class="flex items-center gap-1 text-blue-600">
                                                                    <i class="fas fa-heart"></i>
                                                                    12 likes
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment 4 -->
                            <div class="bg-white rounded-lg shadow-sm comment-item">
                                <div class="p-6">
                                    <div class="flex gap-4">
                                        <img src="https://i.pravatar.cc/150?img=22" alt="David Park"
                                            class="w-12 h-12 rounded-full flex-shrink-0">
                                        <div class="flex-1">
                                            <div class="mb-3">
                                                <div class="flex items-center gap-2 mb-2">
                                                    <span class="font-semibold text-gray-900">David Park</span>
                                                    <span class="text-xs text-gray-500">‚Ä¢ 5 hours ago</span>
                                                </div>
                                                <p class="text-gray-800">Anyone interested in starting a campus
                                                    photography club? I have some professional equipment we can use and
                                                    I'd love to teach basics to beginners! üì∏</p>
                                            </div>
                                            <div class="comment-actions flex items-center gap-6 text-sm text-gray-600">
                                                <button
                                                    class="like-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-thumbs-up"></i>
                                                    <span>Like</span>
                                                </button>
                                                <button
                                                    class="reply-btn flex items-center gap-2 hover:text-blue-600 px-3 py-1 rounded-lg hover:bg-gray-100">
                                                    <i class="far fa-comment"></i>
                                                    <span>Reply</span>
                                                </button>
                                                <span class="flex items-center gap-2 text-blue-600">
                                                    <i class="fas fa-heart"></i>
                                                    <span>28 likes</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Load More Comments -->
                        <div class="text-center mt-8">
                            <button
                                class="bg-white border border-gray-300 text-gray-700 px-8 py-3 rounded-lg hover:bg-gray-50 transition duration-200 font-medium">
                                Load More Comments
                            </button>
                        </div>
                    </div>

                    <!-- Right Sidebar -->
                    <div id="rightSideBar"></div>
                </div>
            </div>

            <!-- Mobile Bottom Navigation -->
            <div id="mobileNav"></div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Like button functionality
                document.querySelectorAll('.like-btn').forEach(button => {
                    button.addEventListener('click', function () {
                        const icon = this.querySelector('i');
                        const likeText = this.querySelector('span');
                        const likesCount = this.parentElement.querySelector('.fa-heart').parentElement;

                        if (icon.classList.contains('far')) {
                            // Like
                            icon.classList.remove('far', 'fa-thumbs-up');
                            icon.classList.add('fas', 'fa-heart');
                            likeText.textContent = 'Liked';
                            this.classList.add('active');

                            // Update likes count
                            const currentLikes = parseInt(likesCount.textContent.match(/\d+/)[0]);
                            likesCount.innerHTML = `<i class="fas fa-heart"></i> ${currentLikes + 1} likes`;
                        } else {
                            // Unlike
                            icon.classList.remove('fas', 'fa-heart');
                            icon.classList.add('far', 'fa-thumbs-up');
                            likeText.textContent = 'Like';
                            this.classList.remove('active');

                            // Update likes count
                            const currentLikes = parseInt(likesCount.textContent.match(/\d+/)[0]);
                            likesCount.innerHTML = `<i class="fas fa-heart"></i> ${currentLikes - 1} likes`;
                        }
                    });
                });

                // Reply button functionality
                document.querySelectorAll('.reply-btn').forEach(button => {
                    button.addEventListener('click', function () {
                        const commentItem = this.closest('.bg-white');
                        let replySection = commentItem.querySelector('.reply-section');

                        if (!replySection) {
                            // Create reply input section
                            const repliesContainer = commentItem.querySelector('.space-y-4') || commentItem.querySelector('.ml-4');
                            replySection = document.createElement('div');
                            replySection.className = 'reply-section flex gap-3 mt-4';
                            replySection.innerHTML = `
                            <img src="https://i.pravatar.cc/150?img=5" alt="Your Avatar" class="w-10 h-10 rounded-full flex-shrink-0">
                            <div class="flex-1">
                                <div class="flex gap-2">
                                    <input type="text" 
                                           placeholder="Write a reply..." 
                                           class="flex-1 px-4 py-3 border border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
                                    <button class="send-reply bg-blue-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition">
                                        Reply
                                    </button>
                                </div>
                            </div>
                        `;

                            if (repliesContainer) {
                                repliesContainer.appendChild(replySection);
                            } else {
                                const commentContent = this.closest('.flex-1');
                                commentContent.appendChild(replySection);
                            }

                            // Add send reply functionality
                            const sendBtn = replySection.querySelector('.send-reply');
                            const replyInput = replySection.querySelector('input');

                            sendBtn.addEventListener('click', function () {
                                const replyText = replyInput.value.trim();
                                if (replyText) {
                                    // Here you would typically send the reply to your backend
                                    console.log('Sending reply:', replyText);
                                    replyInput.value = '';
                                    replySection.remove();
                                }
                            });

                            // Also send on Enter key
                            replyInput.addEventListener('keypress', function (e) {
                                if (e.key === 'Enter') {
                                    sendBtn.click();
                                }
                            });
                        }

                        // Toggle reply section
                        replySection.classList.toggle('active');

                        // Focus input when opened
                        if (replySection.classList.contains('active')) {
                            setTimeout(() => {
                                replySection.querySelector('input').focus();
                            }, 300);
                        }
                    });
                });

                // Auto-resize main comment textarea
                const commentTextarea = document.querySelector('textarea');
                if (commentTextarea) {
                    commentTextarea.addEventListener('input', function () {
                        this.style.height = 'auto';
                        this.style.height = (this.scrollHeight) + 'px';
                    });
                }

                // Post comment functionality
                const postCommentBtn = document.querySelector('.bg-blue-600');
                if (postCommentBtn) {
                    postCommentBtn.addEventListener('click', function () {
                        const commentText = commentTextarea.value.trim();
                        if (commentText) {
                            // Here you would typically send the comment to your backend
                            console.log('Posting comment:', commentText);
                            commentTextarea.value = '';
                            commentTextarea.style.height = 'auto';
                        }
                    });
                }
            });
        </script>

        <script type="module" src="../js/app.js"></script>
    </body>

</html>