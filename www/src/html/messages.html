<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>BarkadaHub - Messages</title>
        <link rel="stylesheet" href="../../dist/output.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    </head>

    <body class="bg-gray-50" data-page="protected">
        <div id="alertContainer" class="fixed top-5 right-5 z-40 max-w-md"></div>

        <div id="app">
            <div class="max-w-4xl mx-auto h-screen flex flex-col">
                <!-- Header -->
                <div class="bg-white border-b border-gray-200 px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <button
                                class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors"
                                id="backIcon">
                                <i class="fas fa-arrow-left text-gray-600"></i>
                            </button>
                            <div>
                                <h1 class="text-xl font-bold text-gray-900">Messages</h1>
                            </div>
                        </div>

                        <div class="flex items-center gap-2">
                            <button
                                class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors"
                                title="New Message">
                                <i class="fas fa-edit text-gray-600"></i>
                            </button>
                            <button
                                class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors"
                                title="More Options">
                                <i class="fas fa-ellipsis-h text-gray-600"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Search Box -->
                    <div class="mt-4">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" placeholder="Search messages or contacts..."
                                class="w-full pl-12 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-800 placeholder-gray-500 transition-all">
                        </div>
                    </div>
                </div>

                <!-- Message Categories -->
                <div class="bg-white border-b border-gray-200 px-4 py-2">
                    <div class="flex items-center justify-between overflow-x-auto scrollbar-hide">
                        <div class="flex space-x-4">
                            <button
                                class="px-4 py-2 text-sm font-medium text-blue-600 border-b-2 border-blue-600 whitespace-nowrap">
                                All Messages
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Messages List -->
                <div class="flex-1 overflow-y-auto scrollbar-hide bg-white">

                    <!-- All Messages -->
                    <div class="px-4 pt-4">
                        <div id="club-message"></div>
                        <div id="friends-message"></div>
                        <div id="lost-message"></div>

                        <!-- Chat 2 -->
                        <a href="./directMessage.html" data-id="">
                            <div
                                class="chat-list-item group relative p-4 cursor-pointer hover:bg-linear-to-r hover:from-emerald-50 hover:to-green-50 transition-all duration-200 rounded-xl mb-2 border border-gray-100 hover:border-green-200 hover:shadow-md">

                                <!-- Active indicator -->
                                <div
                                    class="absolute -left-2 top-1/2 transform -translate-y-1/2 w-1 h-12 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                                </div>

                                <div class="flex items-center gap-3">
                                    <!-- Group avatar with multiple profile images -->
                                    <div class="relative shrink-0">
                                        <!-- Main group avatar container -->
                                        <div
                                            class="relative w-14 h-14 rounded-xl overflow-hidden border-2 border-white shadow-md group-hover:border-green-100 transition-colors">
                                            <!-- Grid of member avatars -->
                                            <div class="absolute inset-0 grid grid-cols-2 gap-0.5 p-0.5">
                                                <div class="bg-linear-to-br from-emerald-400 to-green-500"></div>
                                                <div class="bg-linear-to-br from-emerald-300 to-green-400"></div>
                                                <div class="bg-linear-to-br from-emerald-200 to-green-300"></div>
                                                <div class="bg-linear-to-br from-emerald-100 to-green-200"></div>
                                            </div>
                                            <!-- Club icon overlay -->
                                            <div class="absolute inset-0 bg-black/10 flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white/90 drop-shadow-md" fill="currentColor"
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"
                                                        clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                        </div>

                                        <!-- Online members indicator -->
                                        <div
                                            class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white flex items-center justify-center">
                                            <span class="text-[9px] font-bold text-white">12</span>
                                        </div>
                                    </div>

                                    <!-- Content -->
                                    <div class="flex-1 min-w-0">
                                        <div class="flex justify-between items-start mb-1">
                                            <div class="flex items-center gap-2">
                                                <span
                                                    class="font-bold text-gray-900 group-hover:text-green-700 transition-colors">IT
                                                    Club</span>
                                                <!-- Club badge -->
                                                <span
                                                    class="px-2.5 py-0.5 bg-linear-to-r from-emerald-500 to-green-600 text-white text-xs font-semibold rounded-full shadow-sm flex items-center gap-1">
                                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd"
                                                            d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z"
                                                            clip-rule="evenodd" />
                                                    </svg>
                                                    Club
                                                </span>
                                            </div>

                                            <!-- Last activity -->
                                            <span class="text-xs text-gray-500 font-medium">Active</span>
                                        </div>

                                        <!-- Members info -->
                                        <div class="flex items-center gap-3">
                                            <div class="flex items-center gap-2">
                                                <span class="text-sm text-gray-600 font-medium">45 members</span>
                                            </div>
                                        </div>

                                        <!-- Recent activity -->
                                        <div class="mt-2 flex items-center gap-2">
                                            <span class="text-xs text-gray-500 flex items-center gap-1">
                                                <svg class="w-3 h-3 text-gray-400" fill="currentColor"
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                                                        clip-rule="evenodd" />
                                                </svg>
                                                Joined: July 08, 2026
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hover effects -->
                                <div
                                    class="absolute inset-0 rounded-xl bg-linear-to-r from-emerald-500/0 to-green-500/0 group-hover:from-emerald-500/5 group-hover:to-green-500/5 transition-all duration-300">
                                </div>
                            </div>
                        </a>
                        <!-- Chat 3 -->
                        <a href="./directMessage.html" data-id="">
                            <div
                                class="chat-list-item group relative p-4 cursor-pointer hover:bg-linear-to-r hover:from-White hover:to-blue-100 transition-all duration-200 rounded-xl mb-2 border border-gray-100 hover:border-purple-200 hover:shadow-md">

                                <!-- Active indicator -->
                                <div
                                    class="absolute -left-2 top-1/2 transform -translate-y-1/2 w-1 h-10 bg-primary rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                                </div>

                                <div class="flex items-start gap-3">
                                    <!-- Avatar with status indicator -->
                                    <div class="relative shrink-0">
                                        <img src="https://i.pravatar.cc/150?img=8" alt="Maria Santos"
                                            class="w-14 h-14 rounded object-cover border-2 border-white shadow-md group-hover:border-purple-100 transition-colors">
                                        <!-- Online status indicator -->
                                        <div
                                            class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white">
                                        </div>
                                    </div>

                                    <!-- Content -->
                                    <div class="flex-1 min-w-0">
                                        <div class="flex justify-between items-start mb-1">
                                            <div class="flex items-center gap-2">
                                                <span
                                                    class="font-bold text-gray-900 group-hover:text-blue-500 transition-colors">Maria
                                                    Santos</span>
                                                <!-- Role badge -->
                                                <span
                                                    class="px-2.5 py-0.5 bg-linear-to-r from-purple-500 to-blue-500 text-white text-xs font-semibold rounded-full shadow-sm">
                                                    Friend
                                                </span>
                                            </div>

                                            <!-- Timestamp -->
                                            <span class="text-xs text-gray-500 font-medium">2:30 PM</span>
                                        </div>

                                        <!-- Last message preview -->
                                        <p class="text-sm text-gray-600 truncate mb-1 group-hover:text-gray-800">
                                            Hey! Are we still meeting tomorrow for coffee?
                                        </p>

                                        <!-- Message stats -->
                                        <div class="flex items-center gap-3 text-xs text-gray-400">
                                            <span>10 min ago</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hover effects -->
                                <div
                                    class="absolute inset-0 rounded-xl bg-linear-to-r from-purple-500/0 to-pink-500/0 group-hover:from-purple-500/5 group-hover:to-pink-500/5 transition-all duration-300">
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div id="infoLink"></div>

        </div>

        <div id="offlinePage" class="hidden">
        </div>

        <div class="flex w-full h-screen overflow-hidden scrollbar-hide" id="directMessage">
            <!-- Chat Section -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <!-- Chat Header -->
                <div class="bg-white border-b border-gray-200 p-4 flex items-center justify-between shadow-sm">
                    <div class="flex items-center space-x-3">
                        <a href="./messages.html"
                            class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors">
                            <i class="fas fa-arrow-left text-gray-600"></i>
                        </a>

                        <div class="flex items-center space-x-3 cursor-pointer group">
                            <div class="relative">
                                <div class="w-12 h-12 rounded-full overflow-hidden border-2 border-blue-500 shadow-md">
                                    <img src="../images/image.png" alt="JaseI Guadis"
                                        class="w-full h-full object-cover">
                                </div>
                                <div
                                    class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white">
                                </div>
                            </div>

                            <div>
                                <div class="flex items-center gap-2">
                                    <h2 class="text-gray-900 font-bold text-lg">JaseI Guadis</h2>
                                    <span
                                        class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium">Friend</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-1"></div>
                                    <span class="text-gray-600 text-sm">Active now</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Body -->
                <div class="flex-1 p-4 overflow-y-auto bg-linear-to-b from-white to-blue-50">
                    <!-- Date Separator -->
                    <div class="flex items-center justify-center my-6">
                        <div class="bg-gray-200 text-gray-700 text-xs px-4 py-1 rounded-full font-medium">
                            Today, November 15
                        </div>
                    </div>

                    <!-- Profile Preview -->
                    <div class="text-center mb-8">
                        <div class="inline-flex flex-col items-center gap-3 p-6">
                            <div class="w-20 h-20 rounded-full overflow-hidden border-4 border-blue-100 shadow-lg">
                                <img src="../images/image.png" alt="JaseI Guadis" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 text-lg">JaseI Guadis</h3>
                                <p class="text-gray-600 text-sm">Last seen: Active now</p>
                            </div>
                            <div class="flex items-center gap-2 mt-2">
                                <button
                                    class="text-xs bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                                    View Profile
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Messages Container -->
                    <div class="space-y-4" id="messagesContainer">
                        <!-- Incoming Message 1 -->
                        <div class="flex items-start gap-3 message-in">
                            <div class="shrink-0">
                                <div class="w-8 h-8 rounded-full overflow-hidden">
                                    <img src="../images/image.png" alt="JaseI" class="w-full h-full object-cover">
                                </div>
                            </div>
                            <div class="max-w-[75%]">
                                <div class="bg-white rounded-2xl rounded-tl-none p-4 shadow-sm border border-gray-100">
                                    <p class="text-gray-800 text-sm leading-relaxed">best friend ito part ko</p>
                                    <p class="text-gray-800 text-sm mt-1 leading-relaxed">beneficence ðŸ˜Š ðŸŒŸ :</p>
                                    <div class="flex items-center justify-between mt-2">
                                        <span class="text-xs text-gray-500">10:24 AM</span>
                                        <i class="fas fa-check-double text-blue-500 text-xs"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Outgoing Message 1 -->
                        <div class="flex justify-end message-out">
                            <div class="max-w-[75%]">
                                <div
                                    class="bg-linear-to-r from-blue-500 to-blue-600 rounded-2xl rounded-tr-none p-4 shadow-sm">
                                    <p class="text-white text-sm leading-relaxed">Cgeh lang welcome</p>
                                    <div class="flex items-center justify-between mt-2">
                                        <span class="text-xs text-blue-100">10:25 AM</span>
                                        <i class="fas fa-check-double text-white text-xs"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Incoming Message 2 -->
                        <div class="flex items-start gap-3 message-in">
                            <div class="shrink-0">
                                <div class="w-8 h-8 rounded-full overflow-hidden">
                                    <img src="../images/image.png" alt="JaseI" class="w-full h-full object-cover">
                                </div>
                            </div>
                            <div class="max-w-[75%]">
                                <div class="bg-white rounded-2xl rounded-tl-none p-4 shadow-sm border border-gray-100">
                                    <p class="text-gray-800 text-sm leading-relaxed">sasusunod ulit HAHAHA</p>
                                    <div class="flex items-center justify-between mt-2">
                                        <span class="text-xs text-gray-500">10:26 AM</span>
                                        <i class="fas fa-check text-gray-400 text-xs"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Incoming Message with Image -->
                        <div class="flex items-start gap-3 message-in">
                            <div class="shrink-0">
                                <div class="w-8 h-8 rounded-full overflow-hidden">
                                    <img src="../images/image.png" alt="JaseI" class="w-full h-full object-cover">
                                </div>
                            </div>
                            <div class="max-w-[75%]">
                                <div class="bg-white rounded-2xl rounded-tl-none p-2 shadow-sm border border-gray-100">
                                    <div class="rounded-xl overflow-hidden mb-2">
                                        <img src="../images/ccs.png" alt="Shared photo"
                                            class="w-full h-48 object-cover">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Media Preview Container -->
                <div id="mediaPreview" class="hidden"></div>

                <!-- Message Input -->
                <div class="border-t border-gray-200 p-4 bg-white shadow-lg">
                    <!-- Media Preview Section -->
                    <div id="mediaPreviewArea" class="mb-3 hidden">
                        <div class="relative inline-block max-w-xs">
                            <div id="previewContainer" class="relative"></div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3">
                        <!-- Video Button -->
                        <button id="videoBtn"
                            class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors"
                            title="Video">
                            <i class="fas fa-video text-gray-600"></i>
                        </button>

                        <!-- Camera Button -->
                        <button id="cameraBtn"
                            class="w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors"
                            title="Camera">
                            <i class="fas fa-camera text-gray-600"></i>
                        </button>

                        <!-- Message Input -->
                        <div class="flex-1 relative">
                            <input type="text" id="messageInput" placeholder=" Type a message..."
                                class="w-full bg-gray-100 rounded-full py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>

                        <!-- Send Button -->
                        <button id="sendBtn"
                            class="w-12 h-12 rounded-full bg-linear-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 flex items-center justify-center shadow-lg hover:shadow-xl transition-all"
                            title="Send message">
                            <i class="fas fa-paper-plane text-white"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>


        <script type="module" src="../js/app.js"></script>
        <script type="module" src="../js/pages/messages.js"></script>
    </body>

</html>